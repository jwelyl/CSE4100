  5	0000	COPY   START  0
 10	0000	FIRST  STL    RETADR	17202D
 15	0003	       LDB    #LENGTH	69207B
 20		       BASE   LENGTH
 25	0006	CLOOP  +JSUB  RDREC	4B101516
 30	000A	       LDA    LENGTH	032074
 35	000D	       COMP   #0	290000
 40	0010	       JEQ    ENDFIL	332007
 45	0013	       +JSUB  WRREC	4B10153D
 50	0017	       J      CLOOP	3F2FEC
 55	001A	ENDFIL LDA    EOF	032010
 60	001D	       STA    BUFFER	0F24F6
 65	0020	       LDA    #3	010003
 70	0023	       STA    LENGTH	0F205B
 75	0026	       +JSUB  WRREC	4B10153D
 80	002A	       J      @RETADR	3E2003
 85	002D	EOF    BYTE   C'EOF'	454F46
 90	0030	RETADR RESW   27 	
 95	0081	LENGTH RESW   391	
100	0516	BUFFER RESB   4096	
105		.
110		.      SUBROUTINE TO READ RECORD INTO BUFFER
115		.
120	1516	RDREC  CLEAR  X		B410
125	1518	       CLEAR  A		B400
130	151A	       CLEAR  S		B440
135	151C	       +LDT   #4096	75101000
140	1520	RLOOP  TD     INPUT	E32019
145	1523	       JEQ    RLOOP	332FFA
150	1526	       RD     INPUT	DB2013
155	1529	       COMPR  A, S	A004
160	152B	       JEQ    EXIT	332008
165	152E	       STCH   BUFFER, X	57C495
170	1531	       TIXR   T		B850
175	1533	       JLT    RLOOP	3B2FEA
180	1536	EXIT   STX    LENGTH	134000
185	1539	       RSUB		4F0000
190	153C	INPUT  BYTE   X'F1'	F1
195		.
200		.      SUBROUTINE TO WRITE RECORD FROM BUFFER
205		.
210	153D	WRREC  CLEAR  X		B410
215	153F	       LDT    LENGTH	774000
220	1542	WLOOP  TD     OUTPUT	E32011
225	1545	       JEQ    WLOOP	332FFA
230	1548	       LDCH   BUFFER, X	53C495
235	154B	       WD     OUTPUT	DF2008
240	154E	       TIXR   T		B850
245	1550	       JLT    WLOOP	3B2FEF
250	1553	       RSUB		4F0000
255	1556	OUTPUT BYTE   X'05'	05
260		       END    FIRST
